{"version":3,"sources":["muse/MuseConfig.ts","muse/Border.tsx","muse/Fraction.ts","muse/Selector.ts","muse/MuseNote.tsx","muse/MuseBar.tsx","muse/MuseTrack.tsx","muse/MuseLine.tsx","muse/MusePage.tsx","muse/MuseNotation.tsx","muse/Muse.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["MuseConfig","noteHeight","noteWidth","noteFontSize","noteFontFamily","sigFontSize","trackGap","lineGap","pointGap","tailPointGap","pointRound","pageE","pageWidth","pageMarginHorizontal","pageMarginVertical","infoTitleFontSize","infoSubtitleFontSize","infoGap","infoFontSize","pageIndexFontSize","textFontFamily","showBorder","Border","w","h","x","y","clazz","show","color","className","transform","width","height","stroke","strokeWidth","fill","OuterBorder","Fraction","u","d","pos","search","this","parseInt","substr","a","b","t","n","gcd","f","r","simplify","Selector","subnote","note","bar","track","line","page","document","addEventListener","ev","key","setSelect","removeSubNote","getThis","index","subNotes","length","returnValue","setNum","reducePoint","reduceLine","reduceTailPoint","addSubNote","l","s","selectNote","selectBar","selectTrack","selectLine","selectPage","instance","SubNote","config","isSelect","p","observable","Note","o","idx","decode","dxx","forEach","it","Math","pow","ny","i","push","py","mb","notesY","dx","notesMaxHeight","notesX","notesMaxMarginBottom","selectSubNote","filter","undefined","ns","ts","split","charCodeAt","charAt","tg","computed","MuseSubNote","observer","props","onClick","subNote","fontFamily","fontSize","S","F","DS","DF","N","React","Component","MuseNote","marginBottom","map","pointsY","pointGroup","tailPointsX","tailPoint","Bar","barsWidth","notes","barsX","time","notesTime","reduce","plus","init","space","notesWidthSum","unit","divide","notesTimeSum","toNumber","notesWidth","multiply","max","preHeight","preMarginBottom","e","code","BarLine","useObserver","x1","y1","x2","y2","BaseLine","baselineGroup","MuseBar","Track","bars","tracksY","timeSum","barsTime","barsNotesWidth","preNotesMaxHeight","preNotesMaxMarginBottom","MuseTrack","Line","tracks","linesY","LineHead","MuseLine","Page","notation","marginTop","mt","g","info","author","lines","sum","linesHeight","gap","PageIndex","textAnchor","toString","MusePage","marginLeft","marginRight","NotationInfo","Notation","pages","title","subtitle","speed","rhythmic","C","MuseNotationInfo","y3","rythimic","MuseNotation","margin","Muse","JSON","parse","data","console","log","App","state","error","isLoaded","fetch","then","res","text","result","setState","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.7d66b080.chunk.js","sourcesContent":["export default class MuseConfig {\n  noteHeight = 22;\n  noteWidth = 11;\n  noteFontSize = 22;\n  noteFontFamily = \"serif\";\n  sigFontSize = 14;\n\n  trackGap = 10;\n\n  lineGap = 40;\n\n  pointGap = 5;\n  tailPointGap = 8;\n  pointRound = 1.5;\n\n  pageE = 1.414;\n  pageWidth = 1000;\n  pageMarginHorizontal = 100;\n  pageMarginVertical = 110;\n\n  infoTitleFontSize = 34;\n  infoSubtitleFontSize = 22;\n  infoGap = 7;\n  infoFontSize = 20;\n\n  pageIndexFontSize = 20;\n\n  textFontFamily = \"serif\";\n\n  showBorder = false;\n}\n","import React from \"react\";\n\ninterface BorderProps {\n  w: number;\n  h: number;\n  x: number;\n  y: number;\n  clazz: string;\n  show?: boolean;\n  color?: string;\n}\n\nexport const Border: React.FC<BorderProps> = ({\n  w,\n  h,\n  x,\n  y,\n  clazz,\n  show = false,\n  color = \"blue\",\n}: BorderProps) => {\n  if (show) {\n    return (\n      <rect\n        className={clazz + \"__border\"}\n        transform={\"translate(\" + x + \",\" + y + \")\"}\n        width={w}\n        height={h}\n        stroke={color}\n        strokeWidth=\"0.4\"\n        fill=\"none\"\n      />\n    );\n  } else {\n    return <></>;\n  }\n};\n\ninterface OuterBorderProps {\n  w: number;\n  h: number;\n  clazz: string;\n  show?: boolean;\n  color?: string;\n}\n\nexport const OuterBorder: React.FC<OuterBorderProps> = ({\n  w,\n  h,\n  clazz,\n  show = false,\n  color = \"gray\",\n}: OuterBorderProps) => {\n  if (show) {\n    return (\n      <rect\n        className={clazz + \"__outer-border\"}\n        transform={\"translate(0,0)\"}\n        width={w}\n        height={h}\n        stroke={color}\n        strokeWidth=\"0.4\"\n        fill=\"none\"\n      />\n    );\n  } else {\n    return <></>;\n  }\n};\n","export default class Fraction {\n  u: number = 0;\n  d: number = 1;\n  parse(x: string): Fraction {\n    let pos = x.search(\"/\");\n    if (pos !== -1) {\n      this.u = parseInt(x.substr(0, pos));\n      this.d = parseInt(x.substr(pos + 1));\n    } else {\n      this.u = parseInt(x);\n    }\n    return this;\n  }\n  init(u: number, d: number): Fraction {\n    this.u = u;\n    this.d = d;\n    return this;\n  }\n  gcd(a: number, b: number): number {\n    while (b !== 0) {\n      let t = b;\n      b = a % b;\n      a = t;\n    }\n    return a;\n  }\n  simplify(): Fraction {\n    let n: number;\n    while ((n = this.gcd(this.u, this.d)) > 1 || n < -1) {\n      this.u /= n;\n      this.d /= n;\n    }\n    return this;\n  }\n  plus(f: Fraction): Fraction {\n    let r = new Fraction();\n    r.u = this.u * f.d + this.d * f.u;\n    r.d = this.d * f.d;\n    return r.simplify();\n  }\n  minus(f: Fraction): Fraction {\n    let r = new Fraction();\n    r.u = this.u * f.d - this.d * f.u;\n    r.d = this.d * f.d;\n    return r.simplify();\n  }\n  multiply(f: Fraction): Fraction {\n    let r = new Fraction();\n    r.u = this.u * f.u;\n    r.d = this.d * f.d;\n    return r.simplify();\n  }\n  divide(f: Fraction): Fraction {\n    let r = new Fraction();\n    r.u = this.u * f.d;\n    r.d = this.d * f.u;\n    return r.simplify();\n  }\n  toNumber(): number {\n    return this.u / this.d;\n  }\n  toString(): string {\n    if (this.d === 1) {\n      return `${this.u}`\n    } else {\n      return `${this.u}/${this.d}`\n    }\n  }\n}\n","import { Bar } from \"./MuseBar\";\nimport { Line } from \"./MuseLine\";\nimport { Note, SubNote } from \"./MuseNote\";\nimport { Page } from \"./MusePage\";\nimport { Track } from \"./MuseTrack\";\n\nexport interface SelectionSubNote {\n  setSelect: (i: boolean) => void;\n  getThis: () => SubNote;\n  setNum: (n: string) => void;\n  reducePoint: (h: number) => void;\n  reduceLine: (l: number) => void;\n  reduceTailPoint: (p: number) => void;\n}\n\nexport interface SelectionNote {\n  setSelect: (i: boolean) => void;\n  getThis: () => Note;\n  reduceLine: (l: number) => void;\n  reduceTailPoint: (p: number) => void;\n  addSubNote: (n: string) => void;\n  removeSubNote: (index: number) => void;\n}\n\nexport interface SelectionBar {\n  setSelect: (i: boolean) => void;\n  getThis: () => Bar;\n}\n\nexport interface SelectionTrack {\n  setSelect: (s: boolean) => void;\n  getThis: () => Track;\n}\n\nexport interface SelectionLine {\n  setSelect: (s: boolean) => void;\n  getThis: () => Line;\n}\n\nexport interface SelectionPage {\n  setSelect: (s: boolean) => void;\n  getThis: () => Page;\n}\n\nclass Selector {\n  subnote: SelectionSubNote | null = null;\n  note: SelectionNote | null = null;\n  bar: SelectionBar | null = null;\n  track: SelectionTrack | null = null;\n  line: SelectionLine | null = null;\n  page: SelectionPage | null = null;\n  static instance = new Selector();\n  private constructor() {\n    document.addEventListener(\"keydown\", (ev) => {\n      if (this.subnote !== null) {\n        if (ev.key === \"Enter\") {\n          this.subnote.setSelect(false);\n          this.subnote = null;\n          this.note?.setSelect(true);\n        } else if (ev.key === \"Backspace\") {\n          this.note?.removeSubNote(this.subnote.getThis().index);\n          this.note?.setSelect(true);\n          this.subnote.setSelect(false);\n          this.subnote = null;\n        } else if (ev.key === \"ArrowUp\") {\n          if (this.note) {\n            let l = this.note.getThis().subNotes.length;\n            if (l > this.subnote.getThis().index + 1) {\n              this.subnote.setSelect(false);\n              this.subnote = this.note.getThis().subNotes[\n                this.subnote.getThis().index + 1\n              ];\n              this.subnote.setSelect(true);\n            }\n          }\n          ev.returnValue = false;\n        } else if (ev.key === \"ArrowDown\") {\n          if (this.note) {\n            if (this.subnote.getThis().index > 0) {\n              this.subnote.setSelect(false);\n              this.subnote = this.note.getThis().subNotes[\n                this.subnote.getThis().index - 1\n              ];\n              this.subnote.setSelect(true);\n            }\n          }\n          ev.returnValue = false;\n        } else if ((ev.key >= \"0\" && ev.key <= \"9\") || ev.key === \"-\") {\n          this.subnote.setNum(ev.key);\n        } else if (ev.key === \"r\") {\n          this.subnote.reducePoint(1);\n        } else if (ev.key === \"f\") {\n          this.subnote.reducePoint(-1);\n        } else if (ev.key === \"q\") {\n          this.subnote.reduceLine(-1);\n        } else if (ev.key === \"a\") {\n          this.subnote.reduceLine(1);\n        } else if (ev.key === \"s\") {\n          this.subnote.reduceTailPoint(-1);\n        } else if (ev.key === \"d\") {\n          this.subnote.reduceTailPoint(1);\n        }\n      } else if (this.note !== null) {\n        if (ev.key === \"Enter\") {\n          this.note.setSelect(false);\n          this.note = null;\n          this.bar?.setSelect(true);\n        } else if (ev.key === \" \") {\n          this.note.addSubNote(\"0\");\n          ev.returnValue = false;\n        } else if (ev.key === \"Backspace\") {\n        } else if (ev.key === \"ArrowUp\") {\n          this.subnote = this.note.getThis().subNotes[0];\n          this.subnote.setSelect(true);\n          this.note.setSelect(false);\n          ev.returnValue = false;\n        } else if (ev.key === \"ArrowDown\") {\n          let l = this.note.getThis().subNotes.length;\n          this.subnote = this.note.getThis().subNotes[l - 1];\n          this.subnote.setSelect(true);\n          this.note.setSelect(false);\n          ev.returnValue = false;\n        } else if (ev.key === \"q\") {\n          this.note.reduceLine(-1);\n        } else if (ev.key === \"a\") {\n          this.note.reduceLine(1);\n        } else if (ev.key === \"s\") {\n          this.note.reduceTailPoint(-1);\n        } else if (ev.key === \"d\") {\n          this.note.reduceTailPoint(1);\n        }\n      } else if (this.bar !== null) {\n        if (ev.key === \"Enter\") {\n          this.bar.setSelect(false);\n          this.bar = null;\n          this.track?.setSelect(true);\n        } else if (ev.key === \" \") {\n          ev.returnValue = false;\n        } else if (ev.key === \"Backspace\") {\n          ev.returnValue = false;\n        }\n      } else if (this.track !== null) {\n        if (ev.key === \"Enter\") {\n          this.track.setSelect(false);\n          this.track = null;\n          this.line?.setSelect(true);\n        } else if (ev.key === \" \") {\n          ev.returnValue = false;\n        } else if (ev.key === \"Backspace\") {\n          ev.returnValue = false;\n        }\n      } else if (this.line !== null) {\n        if (ev.key === \"Enter\") {\n          this.line.setSelect(false);\n          this.line = null;\n          this.page?.setSelect(true);\n        } else if (ev.key === \" \") {\n          ev.returnValue = false;\n        } else if (ev.key === \"Backspace\") {\n          ev.returnValue = false;\n        }\n      } else if (this.page !== null) {\n        if (ev.key === \" \") {\n          ev.returnValue = false;\n        }\n      }\n    });\n  }\n  selectSubNote(s: SelectionSubNote) {\n    this.subnote?.setSelect(false);\n    this.subnote = s;\n    this.subnote.setSelect(true);\n    this.selectNote(s.getThis().note);\n  }\n  selectNote(s: SelectionNote) {\n    this.note?.setSelect(false);\n    this.note = s;\n    if (this.subnote === null) this.note.setSelect(true);\n    this.selectBar(s.getThis().bar);\n  }\n  selectBar(s: SelectionBar) {\n    this.bar?.setSelect(false);\n    this.bar = s;\n    if (this.note === null) this.bar.setSelect(true);\n    this.selectTrack(s.getThis().track);\n  }\n  selectTrack(s: SelectionTrack) {\n    this.track?.setSelect(false);\n    this.track = s;\n    if (this.bar === null) this.track.setSelect(true);\n    this.selectLine(s.getThis().line);\n  }\n  selectLine(s: SelectionLine) {\n    this.line?.setSelect(false);\n    this.line = s;\n    if (this.track === null) this.line.setSelect(true);\n    this.selectPage(s.getThis().page);\n  }\n  selectPage(s: SelectionPage) {\n    this.page?.setSelect(false);\n    this.page = s;\n    if (this.line === null) this.page.setSelect(true);\n  }\n}\n\nexport default Selector;\n","import React from \"react\";\nimport { Border, OuterBorder } from \"./Border\";\nimport MuseConfig from \"./MuseConfig\";\nimport Codec from \"./Codec\";\nimport Fraction from \"./Fraction\";\nimport { computed, observable } from \"mobx\";\nimport { observer } from \"mobx-react\";\nimport Selector, { SelectionNote, SelectionSubNote } from \"./Selector\";\nimport { Bar } from \"./MuseBar\";\n\nexport interface INote {\n  n: string;\n}\n\nexport class SubNote implements SelectionSubNote {\n  @observable isSelect = false;\n  readonly note: Note;\n  readonly index: number;\n  config: MuseConfig;\n  @observable x: string = \"\";\n  @observable n: string = \"\";\n  @observable t: number = 0;\n  constructor(\n    x: string,\n    n: string,\n    t: number,\n    note: Note,\n    index: number,\n    config: MuseConfig\n  ) {\n    this.x = x;\n    this.n = n;\n    this.t = t;\n    this.note = note;\n    this.index = index;\n    this.config = config;\n  }\n  setSelect(s: boolean) {\n    this.isSelect = s;\n  }\n  setNum(n: string) {\n    this.n = n;\n  }\n  reducePoint(h: number) {\n    this.t += h;\n  }\n  reduceLine(l: number) {\n    this.note.l += l;\n    if (this.note.l < 0) {\n      this.note.l = 0;\n    }\n  }\n  reduceTailPoint(p: number) {\n    this.note.p += p;\n    if (this.note.p < 0) {\n      this.note.p = 0;\n    }\n  }\n  getThis() {\n    return this;\n  }\n}\n\nexport class Note implements Codec, SelectionNote {\n  readonly config: MuseConfig;\n  @observable index: number;\n  @observable bar: Bar;\n  @observable subNotes: SubNote[] = [];\n  @observable l: number = 0;\n  @observable p: number = 0;\n  @observable d: number = 0;\n  @computed get dx(): number {\n    let dxx = false;\n    this.subNotes.forEach((it) => {\n      if (it.x !== \"\") {\n        dxx = true;\n      }\n    });\n    return dxx ? this.config.sigFontSize / 2 : 0;\n  }\n  @computed get time(): Fraction {\n    let r = new Fraction();\n    r.u = 1;\n    r.d *= Math.pow(2, this.l);\n    r.d *= this.d;\n    r.d *= Math.pow(2, this.p); //3/2 7/4 15/8\n    r.u *= Math.pow(2, this.p + 1) - 1;\n    return r.simplify();\n  }\n  @computed get notesY(): number[] {\n    let r: number[] = [];\n    let ny = 0;\n    this.subNotes.forEach((it, idx) => {\n      if (it.t < 0) {\n        if (idx !== 0) {\n          let i = -it.t;\n          for (; i > 0; --i) {\n            let x = this.config.pointGap;\n            ny += x;\n          }\n        }\n      }\n      r.push(ny);\n      let h = this.config.noteHeight;\n      ny += h;\n      if (it.t > 0) {\n        let i = it.t;\n        for (; i > 0; --i) {\n          let x = this.config.pointGap;\n          ny += x;\n        }\n      }\n    });\n    return r;\n  }\n  @computed get pointsY(): number[] {\n    let r: number[] = [];\n    let py = 0;\n    let ny = 0;\n    let mb = 0;\n    mb += this.l * this.config.pointGap;\n    this.subNotes.forEach((it, idx) => {\n      if (it.t < 0) {\n        if (idx === 0) {\n          let i = -it.t;\n          for (; i > 0; --i) {\n            let x = this.config.pointGap;\n            mb += x / 2;\n            r.push(-mb);\n            mb += x / 2;\n          }\n        }\n        if (idx !== 0) {\n          let i = -it.t;\n          for (; i > 0; --i) {\n            let x = this.config.pointGap;\n            py += x / 2;\n            r.push(py);\n            py += x / 2;\n            ny += x;\n          }\n        }\n      }\n      this.notesY.push(ny);\n      let h = this.config.noteHeight;\n      ny += h;\n      py += h;\n      if (it.t > 0) {\n        let i = it.t;\n        for (; i > 0; --i) {\n          let x = this.config.pointGap;\n          py += x / 2;\n          r.push(py);\n          py += x / 2;\n          ny += x;\n        }\n      }\n    });\n    return r;\n  }\n  @computed get tailPointsX(): number[] {\n    let r: number[] = [];\n    for (let i = 0; i < this.p; ++i) {\n      r.push(\n        this.dx + this.config.noteWidth + (i + 1 / 2) * this.config.tailPointGap\n      );\n    }\n    return r;\n  }\n  @computed get width(): number {\n    return this.dx + this.config.noteWidth + this.p * this.config.tailPointGap;\n  }\n  @computed get preHeight(): number {\n    let h = 0;\n    this.subNotes.forEach((it, idx) => {\n      if (it.t < 0) {\n        if (idx !== 0) {\n          let i = -it.t;\n          for (; i > 0; --i) {\n            let x = this.config.pointGap;\n            h += x;\n          }\n        }\n      }\n      h += this.config.noteHeight;\n      if (it.t > 0) {\n        let i = it.t;\n        for (; i > 0; --i) {\n          let x = this.config.pointGap;\n          h += x;\n        }\n      }\n    });\n    return h;\n  }\n  @computed get height(): number {\n    return this.bar.notesMaxHeight;\n  }\n  @computed get x(): number {\n    return this.bar.notesX[this.index];\n  }\n  @computed get preMarginBottom(): number {\n    let mb = 0;\n    mb += this.l * this.config.pointGap;\n    this.subNotes.forEach((it, idx) => {\n      if (it.t < 0) {\n        if (idx === 0) {\n          let i = -it.t;\n          for (; i > 0; --i) {\n            let x = this.config.pointGap;\n            mb += x;\n          }\n        }\n      }\n    });\n    return mb;\n  }\n  @computed get marginBottom(): number {\n    return this.bar.notesMaxMarginBottom;\n  }\n  @observable isSelect: boolean = false;\n  constructor(o: INote, bar: Bar, idx: number) {\n    this.config = bar.config;\n    this.bar = bar;\n    this.index = idx;\n    this.decode(o);\n  }\n  setSelect(s: boolean) {\n    this.isSelect = s;\n  }\n  reduceLine(l: number) {\n    this.l += l;\n    if (this.l < 0) {\n      this.l = 0;\n    }\n  }\n  reduceTailPoint(p: number) {\n    this.p += p;\n    if (this.p < 0) {\n      this.p = 0;\n    }\n  }\n  addSubNote(n: string) {\n    this.subNotes.push(\n      new SubNote(\"\", n, 0, this, this.subNotes.length, this.config)\n    );\n    Selector.instance.selectSubNote(this.subNotes[this.subNotes.length - 1]);\n  }\n  removeSubNote(index: number) {\n    this.subNotes = this.subNotes.filter((it) => it.index !== index);\n  }\n  getThis() {\n    return this;\n  }\n\n  decode(o: INote): void {\n    if (o.n !== undefined) {\n      let n: string = o.n;\n      let pos = n.search(\"@\");\n      let ns = \"\";\n      let ts = \"\";\n      if (pos === -1) {\n        ns = n;\n        ts = \"0|0\";\n      } else {\n        ns = n.substr(0, pos);\n        ts = n.substr(pos + 1);\n      }\n      let ng = ns.split(\"|\");\n      ng.forEach((it, idx) => {\n        for (let i = 0; i < it.length; ++i) {\n          if (\n            (it.charCodeAt(i) <= 57 && it.charCodeAt(i) >= 48) ||\n            it.charCodeAt(i) === 45\n          ) {\n            let x = it.substr(0, i);\n            let n = it.charAt(i);\n            let t = it.substr(i + 1).length;\n            if (t !== 0 && it.charAt(i + 1) === \"-\") {\n              t = -t;\n            }\n            this.subNotes.push(new SubNote(x, n, t, this, idx, this.config));\n            break;\n          }\n        }\n      });\n      let tg = ts.split(\"|\");\n      if (tg.length === 3) {\n        this.l = parseInt(tg[0]);\n        this.p = parseInt(tg[1]);\n        this.d = parseInt(tg[2]);\n      } else if (tg.length === 2) {\n        this.l = parseInt(tg[0]);\n        this.p = parseInt(tg[1]);\n        this.d = 1;\n      } else if (tg.length === 1) {\n        this.l = parseInt(tg[0]);\n        this.p = 0;\n        this.d = 1;\n      } else {\n        this.l = 0;\n        this.p = 0;\n        this.d = 1;\n      }\n    }\n  }\n  code(): INote {\n    let ns: string = \"\";\n    this.subNotes.forEach((it, idx) => {\n      let t = \"\";\n      if (it.t > 0) {\n        for (let i = 0; i < it.t; ++i) {\n          t += \"+\";\n        }\n      } else {\n        for (let i = 0; i < -it.t; ++i) {\n          t += \"-\";\n        }\n      }\n      if (idx + 1 >= this.subNotes.length) {\n        ns += `${it.x}${it.n}${t}`;\n      } else {\n        ns += `${it.x}${it.n}${t}|`;\n      }\n    });\n    let n = `${ns}@${this.l}|${this.p}`;\n    return { n };\n  }\n}\n\nfunction castX(x: string) {\n  let m: Record<string, string> = {\n    S: \"#\",\n    F: \"b\",\n    DS: \"x\",\n    DF: \"d\",\n    N: \"n\",\n  };\n  return m[x] || \"\";\n}\n\nfunction pointGroup(note: Note, clazz: string) {\n  return (\n    <g className={clazz + \"__group-point\"}>\n      {note.pointsY.map((it, idx) => (\n        <circle\n          key={idx}\n          r={note.config.pointRound}\n          fill=\"black\"\n          transform={\n            \"translate(\" +\n            (note.dx + note.config.noteWidth / 2) +\n            \",\" +\n            (note.height - it + note.config.pointGap / 2) +\n            \")\"\n          }\n        />\n      ))}\n    </g>\n  );\n}\n\nfunction tailPoint(note: Note, clazz: string) {\n  return (\n    <g className={clazz + \"__tail-point\"}>\n      {note.tailPointsX.map((it, idx) => (\n        <circle\n          key={idx}\n          r={note.config.pointRound}\n          fill=\"black\"\n          transform={\n            \"translate(\" +\n            it +\n            \",\" +\n            (note.height - note.config.noteHeight / 3) +\n            \")\"\n          }\n        />\n      ))}\n    </g>\n  );\n}\n\ninterface MuseSubNoteProps {\n  dx: number;\n  y: number;\n  w: number;\n  h: number;\n  subNote: SubNote;\n}\n\n@observer\nclass MuseSubNote extends React.Component<MuseSubNoteProps, {}> {\n  render() {\n    return (\n      <g\n        className={\"muse-note__subnote\"}\n        transform={\"translate(\" + 0 + \",\" + this.props.y + \")\"}\n        width={this.props.w}\n        height={this.props.h}\n        onClick={() => {\n          Selector.instance.selectSubNote(this.props.subNote);\n        }}\n      >\n        <text\n          fontFamily={this.props.subNote.config.noteFontFamily}\n          fontSize={this.props.subNote.config.noteFontSize}\n          transform={\"translate(\" + this.props.dx + \",\" + 0 + \")\"}\n        >\n          {this.props.subNote.n}\n        </text>\n        <text\n          fontFamily={this.props.subNote.config.noteFontFamily}\n          fontSize={this.props.subNote.config.sigFontSize}\n          transform={\n            \"translate(\" +\n            0 +\n            \",\" +\n            (this.props.subNote.config.sigFontSize -\n              this.props.subNote.config.noteHeight) +\n            \")\"\n          }\n        >\n          {castX(this.props.subNote.x)}\n        </text>\n        <Border\n          x={0}\n          y={-this.props.h}\n          w={this.props.w}\n          h={this.props.subNote.config.noteFontSize}\n          clazz={\"muse-note__subnote\"}\n          show={this.props.subNote.isSelect}\n        />\n      </g>\n    );\n  }\n}\n\n@observer\nclass MuseNote extends React.Component<{ note: Note }, {}> {\n  render() {\n    let clazz = \"muse-note\";\n    return (\n      <g\n        className={clazz}\n        transform={\"translate(\" + this.props.note.x + \",\" + 0 + \")\"}\n        width={this.props.note.width}\n        height={this.props.note.height}\n        onClick={() => {\n          Selector.instance.selectNote(this.props.note);\n        }}\n      >\n        <OuterBorder\n          w={this.props.note.width}\n          h={this.props.note.height + this.props.note.marginBottom}\n          clazz={clazz}\n          show={this.props.note.isSelect}\n          color={\"blue\"}\n        />\n        {this.props.note.subNotes.map((it, idx) => (\n          <MuseSubNote\n            key={idx}\n            dx={this.props.note.dx}\n            y={this.props.note.height - this.props.note.notesY[idx]}\n            w={this.props.note.width}\n            h={22}\n            subNote={it}\n          />\n        ))}\n        {pointGroup(this.props.note, clazz)}\n        {tailPoint(this.props.note, clazz)}\n      </g>\n    );\n  }\n}\n\nexport default MuseNote;\n","import React from \"react\";\nimport MuseConfig from \"./MuseConfig\";\nimport MuseNote, { INote, Note } from \"./MuseNote\";\nimport { Border } from \"./Border\";\nimport Codec from \"./Codec\";\nimport { computed, observable } from \"mobx\";\nimport { observer, useObserver } from \"mobx-react\";\nimport Fraction from \"./Fraction\";\nimport { Track } from \"./MuseTrack\";\nimport { SelectionBar } from \"./Selector\";\n\ninterface Baseline {\n  y: number;\n  s: number;\n  e: number;\n}\n\nexport interface IBar {\n  notes: INote[];\n}\n\nexport class Bar implements Codec, SelectionBar {\n  readonly config: MuseConfig;\n  readonly index: number;\n  @observable track: Track;\n  @observable notes: Note[] = [];\n  @observable isSelect: boolean = false;\n  @computed get width(): number {\n    return this.track.barsWidth[this.index];\n  }\n  @computed get height(): number {\n    let h = 0;\n    this.notes.forEach((it) => {\n      let u = it.height + it.marginBottom;\n      h = u > h ? u : h;\n    });\n    return h;\n  }\n  @computed get x(): number {\n    return this.track.barsX[this.index];\n  }\n  @computed get y(): number {\n    return 0;\n  }\n  @computed get notesTime(): Fraction[] {\n    return this.notes.map((it) => it.time);\n  }\n  @computed get notesTimeSum(): Fraction {\n    return this.notesTime\n      .reduce((a, b) => a.plus(b), new Fraction())\n      .plus(new Fraction().init(1, 1));\n  }\n  @computed get notesWidth(): number[] {\n    return this.notes.map((it) => it.width);\n  }\n  @computed get notesX(): number[] {\n    let space = this.width - this.notesWidthSum;\n    let unit = new Fraction().init(space, 1).divide(this.notesTimeSum);\n    let x = unit.toNumber();\n    return this.notesWidth.map((it, idx) => {\n      let r = x;\n      x += it + this.notesTime[idx].multiply(unit).toNumber();\n      return r;\n    });\n  }\n  @computed get preNotesMaxHeight(): number {\n    return Math.max(...this.notes.map((it) => it.preHeight));\n  }\n  @computed get notesMaxHeight(): number {\n    return this.track.notesMaxHeight;\n  }\n  @computed get preNotesMaxMarginBottom(): number {\n    return Math.max(...this.notes.map((it) => it.preMarginBottom));\n  }\n  @computed get notesMaxMarginBottom(): number {\n    return this.track.notesMaxMarginBottom;\n  }\n  @computed get baselineGroup(): Baseline[] {\n    let r: {\n      y: number;\n      s: number;\n      e: number;\n    }[] = [];\n    for (let i = 0; ; ++i) {\n      let x = 0;\n      let s = 0;\n      let e = -1;\n      this.notes.forEach((it, idx) => {\n        if (it.l > i) {\n          e = idx;\n          x++;\n        } else {\n          if (s <= e) r.push({ y: i, s: s, e: e });\n          s = idx + 1;\n          e = idx;\n        }\n      });\n      if (s <= e) r.push({ y: i, s: s, e: e });\n      if (x === 0) {\n        break;\n      }\n    }\n    return r;\n  }\n  @computed get notesWidthSum(): number {\n    let w = 0;\n    this.notes.forEach((it) => (w += it.width));\n    return w;\n  }\n  constructor(o: IBar, index: number, track: Track, config: MuseConfig) {\n    this.index = index;\n    this.track = track;\n    this.config = config;\n    this.decode(o);\n  }\n  setSelect(i: boolean) {\n    this.isSelect = i;\n  }\n  getThis() {\n    return this;\n  }\n  decode(o: IBar): void {\n    if (o.notes !== undefined) {\n      o.notes.forEach((it: INote, idx) => {\n        this.notes.push(new Note(it, this, idx));\n      });\n    }\n  }\n  code(): IBar {\n    let notes: INote[] = this.notes.map((it) => it.code());\n    return { notes };\n  }\n}\n\nconst BarLine: React.FC<{ w: number; h: number; clazz: string }> = (props: {\n  w: number;\n  h: number;\n  clazz: string;\n}) => {\n  let [width, height] = useObserver(() => {\n    return [props.w, props.h];\n  });\n  return (\n    <line\n      className={props.clazz + \"__bar-line\"}\n      x1={width}\n      y1={0}\n      x2={width}\n      y2={height}\n      strokeWidth={1}\n      stroke=\"black\"\n    />\n  );\n};\n\nconst BaseLine: React.FC<{ bar: Bar; clazz: string }> = ({\n  bar,\n  clazz,\n}: {\n  bar: Bar;\n  clazz: string;\n}) => {\n  let [baselineGroup, notes] = useObserver(() => {\n    return [bar.baselineGroup, bar.notes];\n  });\n  return (\n    <g className={clazz + \"__base-line\"}>\n      {baselineGroup.map((it, idx) => (\n        <line\n          key={idx}\n          x1={notes[it.s].x}\n          y1={notes[it.s].height + (it.y + 1) * bar.config.pointGap}\n          x2={notes[it.e].x + bar.notes[it.e].width}\n          y2={notes[it.s].height + (it.y + 1) * bar.config.pointGap}\n          stroke={\"black\"}\n          strokeWidth={1}\n        />\n      ))}\n    </g>\n  );\n};\n\n@observer\nclass MuseBar extends React.Component<{ bar: Bar }, {}> {\n  render() {\n    let notes = this.props.bar.notes;\n    let clazz = \"muse-bar\";\n    return (\n      <g\n        className={clazz}\n        transform={\n          \"translate(\" + this.props.bar.x + \",\" + this.props.bar.y + \")\"\n        }\n        width={this.props.bar.width}\n        height={this.props.bar.height}\n      >\n        <Border\n          w={this.props.bar.width}\n          h={this.props.bar.height}\n          x={0}\n          y={0}\n          clazz={clazz}\n          show={this.props.bar.isSelect}\n        />\n        <BarLine\n          w={this.props.bar.width}\n          h={this.props.bar.height}\n          clazz={clazz}\n        />\n        {notes.map((it, idx) => (\n          <MuseNote key={idx} note={it} />\n        ))}\n        <BaseLine bar={this.props.bar} clazz={clazz} />\n      </g>\n    );\n  }\n}\n\nexport default MuseBar;\n","import React from \"react\";\nimport MuseConfig from \"./MuseConfig\";\nimport MuseBar, { Bar, IBar } from \"./MuseBar\";\nimport { Border } from \"./Border\";\nimport Codec from \"./Codec\";\nimport { computed, observable } from \"mobx\";\nimport { Line } from \"./MuseLine\";\nimport Fraction from \"./Fraction\";\nimport { observer } from \"mobx-react\";\nimport { SelectionTrack } from \"./Selector\";\n\nexport interface ITrack {\n  bars: IBar[];\n}\n\nexport class Track implements Codec, SelectionTrack {\n  readonly config: MuseConfig;\n  readonly index: number;\n  readonly line: Line;\n  @observable bars: Bar[] = [];\n  @observable isSelect: boolean = false;\n  @computed get width(): number {\n    return this.line.width;\n  }\n  @computed get height(): number {\n    let h = 0;\n    this.bars.forEach((it) => {\n      h = it.height > h ? it.height : h;\n    });\n    return h;\n  }\n  @computed get x(): number {\n    return 0;\n  }\n  @computed get y(): number {\n    return this.line.tracksY[this.index];\n  }\n  @computed get barsTime(): Fraction[] {\n    return this.bars.map((it) => it.notesTimeSum);\n  }\n  @computed get barsWidth(): number[] {\n    let timeSum = this.barsTime.reduce((a, b) => a.plus(b), new Fraction());\n    let space = this.width - this.notesWidthSum;\n    let unit = new Fraction().init(space, 1).divide(timeSum);\n    return this.barsNotesWidth.map((it, idx) => {\n      return it + this.barsTime[idx].multiply(unit).toNumber();\n    });\n  }\n  @computed get barsX(): number[] {\n    let x = 0;\n    return this.barsWidth.map((it) => {\n      let r = x;\n      x += it;\n      return r;\n    });\n  }\n  @computed get notesMaxHeight(): number {\n    return Math.max(...this.bars.map((it) => it.preNotesMaxHeight));\n  }\n  @computed get notesMaxMarginBottom(): number {\n    return Math.max(...this.bars.map((it) => it.preNotesMaxMarginBottom));\n  }\n  @computed get notesWidthSum(): number {\n    return this.barsNotesWidth.reduce((a, b) => a + b, 0);\n  }\n  @computed get barsNotesWidth(): number[] {\n    return this.bars.map((it) => it.notesWidthSum);\n  }\n  constructor(o: ITrack, index: number, line: Line, config: MuseConfig) {\n    this.index = index;\n    this.line = line;\n    this.config = config;\n    this.decode(o);\n  }\n  setSelect(s: boolean) {\n    this.isSelect = s;\n  }\n  getThis() {\n    return this;\n  }\n  decode(o: ITrack): void {\n    if (o.bars !== undefined) {\n      o.bars.forEach((it: any, idx) => {\n        this.bars.push(new Bar(it, idx, this, this.config));\n      });\n    }\n  }\n  code(): ITrack {\n    let bars: IBar[] = this.bars.map((it) => it.code());\n    return { bars };\n  }\n}\n\n@observer\nclass MuseTrack extends React.Component<{ track: Track }> {\n  render() {\n    let clazz = \"muse-track\";\n    return (\n      <g\n        className={clazz}\n        transform={\n          \"translate(\" + this.props.track.x + \",\" + this.props.track.y + \")\"\n        }\n        width={this.props.track.width}\n        height={this.props.track.height}\n      >\n        <Border\n          w={this.props.track.width}\n          h={this.props.track.height}\n          x={0}\n          y={0}\n          clazz={clazz}\n          show={this.props.track.isSelect}\n        />\n        {this.props.track.bars.map((it, idx) => (\n          <MuseBar key={idx} bar={it} />\n        ))}\n      </g>\n    );\n  }\n}\n\nexport default MuseTrack;\n","import React from \"react\";\nimport MuseConfig from \"./MuseConfig\";\nimport MuseTrack, { ITrack, Track } from \"./MuseTrack\";\nimport { Border } from \"./Border\";\nimport Codec from \"./Codec\";\nimport { computed, observable } from \"mobx\";\nimport { observer } from \"mobx-react\";\nimport { Page } from \"./MusePage\";\nimport { SelectionLine } from \"./Selector\";\n\nexport interface ILine {\n  tracks: ITrack[];\n}\n\nexport class Line implements Codec, SelectionLine {\n  readonly page: Page;\n  readonly index: number;\n  readonly config: MuseConfig;\n  @observable tracks: Track[] = [];\n  @observable isSelect: boolean = false;\n  @computed get width() {\n    return this.page.width;\n  }\n  @computed get height() {\n    let h = 0;\n    this.tracks.forEach((it) => {\n      h += it.height + this.config.trackGap;\n    });\n    h -= this.config.trackGap;\n    return h;\n  }\n  @computed get x() {\n    return this.page.x;\n  }\n  @computed get y() {\n    return this.page.linesY[this.index];\n  }\n  @computed get tracksY(): number[] {\n    let y = 0;\n    return this.tracks.map((it) => {\n      let r = y;\n      y += it.height + this.config.trackGap;\n      return r;\n    });\n  }\n  constructor(o: ILine, index: number, page: Page, config: MuseConfig) {\n    this.page = page;\n    this.index = index;\n    this.config = config;\n    this.decode(o);\n  }\n  setSelect(s: boolean) {\n    this.isSelect = s;\n  }\n  getThis() {\n    return this;\n  }\n  decode(o: ILine): void {\n    if (o.tracks !== undefined) {\n      o.tracks.forEach((it: ITrack, idx) => {\n        this.tracks.push(new Track(it, idx, this, this.config));\n      });\n    }\n  }\n  code(): ILine {\n    let tracks: ITrack[] = this.tracks.map((it) => it.code());\n    return { tracks };\n  }\n}\n\nconst LineHead: React.FC<{ height: number; clazz: string }> = ({\n  height,\n  clazz,\n}: {\n  height: number;\n  clazz: string;\n}) => {\n  return (\n    <g className={clazz + \"__line-head\"}>\n      <line x1={0} y1={0} x2={0} y2={height} strokeWidth={1} stroke=\"black\" />\n    </g>\n  );\n};\n\n@observer\nclass MuseLine extends React.Component<{ line: Line }> {\n  render() {\n    let clazz = \"muse-line\";\n    return (\n      <g\n        className={clazz}\n        transform={\n          \"translate(\" + this.props.line.x + \",\" + this.props.line.y + \")\"\n        }\n        width={this.props.line.width}\n        height={this.props.line.height}\n      >\n        <Border\n          w={this.props.line.width}\n          h={this.props.line.height}\n          x={0}\n          y={0}\n          clazz={clazz}\n          show={this.props.line.isSelect}\n        />\n        <LineHead height={this.props.line.height} clazz={clazz} />\n        {this.props.line.tracks.map((it, idx) => (\n          <MuseTrack key={idx} track={it} />\n        ))}\n      </g>\n    );\n  }\n}\n\nexport default MuseLine;\n","import React from \"react\";\nimport MuseConfig from \"./MuseConfig\";\nimport MuseLine, { ILine, Line } from \"./MuseLine\";\nimport { Border, OuterBorder } from \"./Border\";\nimport Codec from \"./Codec\";\nimport { computed, observable } from \"mobx\";\nimport { Notation } from \"./MuseNotation\";\nimport { observer } from \"mobx-react\";\nimport { SelectionPage } from \"./Selector\";\n\nexport interface IPage {\n  lines: ILine[];\n}\n\nexport class Page implements Codec, SelectionPage {\n  readonly notation: Notation;\n  readonly config: MuseConfig;\n  readonly index: number;\n  @observable lines: Line[] = [];\n  @observable isSelect: boolean = false;\n  @computed get width() {\n    return this.config.pageWidth - this.config.pageMarginHorizontal * 2;\n  }\n  @computed get height() {\n    return (\n      this.config.pageWidth * this.config.pageE -\n      this.config.pageMarginVertical * 2\n    );\n  }\n  @computed get x() {\n    return this.config.pageMarginHorizontal;\n  }\n  @computed get y() {\n    return this.marginTop + this.index * this.height;\n  }\n  @computed get marginTop() {\n    let mt = 0;\n    if (this.index === 0) {\n      mt += this.config.pageMarginVertical;\n      let g = this.config.infoGap;\n      mt += this.config.infoTitleFontSize + g;\n      mt += this.config.infoSubtitleFontSize + g;\n      if (this.notation.info.author.length > 2) {\n        mt += this.notation.info.author.length * (this.config.infoFontSize + g);\n      } else {\n        mt += 2 * (this.config.infoFontSize + g);\n      }\n    } else {\n      mt = this.config.pageMarginVertical;\n    }\n    return mt;\n  }\n  @computed get marginBottom() {\n    return this.config.pageMarginVertical;\n  }\n  @computed get marginLeft() {\n    return this.config.pageMarginHorizontal;\n  }\n  @computed get marginRight() {\n    return this.config.pageMarginHorizontal;\n  }\n  @computed get linesHeight(): number[] {\n    return this.lines.map((it) => it.height);\n  }\n  @computed get linesY() {\n    let y = this.marginTop;\n    let sum = this.linesHeight.reduce((a, b) => a + b, 0);\n    let gap = (this.height - sum) / (this.lines.length - 1);\n    return this.linesHeight.map((it) => {\n      let r = y;\n      y += it + gap;\n      return r;\n    });\n  }\n  constructor(o: IPage, index: number, notation: Notation, config: MuseConfig) {\n    this.index = index;\n    this.notation = notation;\n    this.config = config;\n    this.decode(o);\n  }\n  setSelect(s: boolean) {\n    this.isSelect = s;\n  }\n  getThis() {\n    return this;\n  }\n  decode(o: IPage): void {\n    if (o.lines !== undefined) {\n      o.lines.forEach((it: ILine, idx) => {\n        this.lines.push(new Line(it, idx, this, this.config));\n      });\n    }\n  }\n  code(): IPage {\n    let lines: ILine[] = this.lines.map((it) => it.code());\n    return { lines };\n  }\n}\n\ninterface PageIndexProps {\n  index: number;\n  x: number;\n  y: number;\n  clazz: string;\n  config: MuseConfig;\n}\n\nconst PageIndex: React.FC<PageIndexProps> = ({\n  index,\n  x,\n  y,\n  clazz,\n  config,\n}: PageIndexProps) => {\n  return (\n    <g\n      className={clazz + \"__page-index\"}\n      transform={\"translate(\" + x + \",\" + y + \")\"}\n    >\n      <text\n        textAnchor={\"middle\"}\n        fontFamily={config.textFontFamily}\n        fontSize={config.pageIndexFontSize}\n      >\n        {(index + 1).toString()}\n      </text>\n    </g>\n  );\n};\n\n@observer\nclass MusePage extends React.Component<{ page: Page }> {\n  render() {\n    let clazz = \"muse-page\";\n    return (\n      <g\n        className={clazz}\n        transform={\n          \"translate(\" +\n          (this.props.page.x - this.props.page.marginLeft) +\n          \",\" +\n          (this.props.page.y - this.props.page.marginTop) +\n          \")\"\n        }\n        width={\n          this.props.page.width +\n          this.props.page.marginLeft +\n          this.props.page.marginRight\n        }\n        height={\n          this.props.page.height +\n          this.props.page.marginTop +\n          this.props.page.marginBottom\n        }\n      >\n        <Border\n          w={this.props.page.width}\n          h={this.props.page.height}\n          x={this.props.page.x}\n          y={this.props.page.y}\n          clazz={clazz}\n          show={this.props.page.isSelect}\n        />\n        <OuterBorder\n          w={\n            this.props.page.width +\n            this.props.page.marginLeft +\n            this.props.page.marginLeft\n          }\n          h={\n            this.props.page.height +\n            this.props.page.marginTop +\n            this.props.page.marginBottom\n          }\n          clazz={clazz}\n          show={true}\n        />\n        <PageIndex\n          index={this.props.page.index}\n          x={this.props.page.marginLeft + this.props.page.width / 2}\n          y={\n            this.props.page.marginTop +\n            this.props.page.height +\n            this.props.page.marginBottom / 2\n          }\n          clazz={clazz}\n          config={this.props.page.config}\n        />\n        {this.props.page.lines.map((it, idx) => (\n          <MuseLine key={idx} line={it} />\n        ))}\n      </g>\n    );\n  }\n}\n\nexport default MusePage;\n","import React from \"react\";\nimport MuseConfig from \"./MuseConfig\";\nimport MusePage, { IPage, Page } from \"./MusePage\";\nimport { Border } from \"./Border\";\nimport Codec from \"./Codec\";\nimport { computed, observable } from \"mobx\";\nimport { observer } from \"mobx-react\";\n\nexport class NotationInfo {\n  @observable title: string = \"\";\n  @observable subtitle: string = \"\";\n  @observable author: string[] = [];\n  @observable speed: string = \"\";\n  @observable rhythmic: string = \"\";\n  @observable C: string = \"\";\n}\n\nexport interface INotation {\n  title: string;\n  subtitle: string;\n  author: string;\n  rhythmic: string;\n  speed: string;\n  C: string;\n  pages: IPage[];\n}\n\nexport class Notation implements Codec {\n  readonly config: MuseConfig;\n  @observable pages: Page[] = [];\n  @observable info: NotationInfo = new NotationInfo();\n  @computed get height() {\n    let h = 0;\n    this.pages.forEach(\n      (it) => (h += it.height + it.marginTop + it.marginBottom)\n    );\n    return h;\n  }\n  @computed get width() {\n    return this.config.pageWidth;\n  }\n  constructor(o: INotation, config: MuseConfig) {\n    this.config = config;\n    this.decode(o);\n  }\n  decode(o: INotation): void {\n    if (o.pages !== undefined) {\n      o.pages.forEach((it: IPage, idx) => {\n        this.pages.push(new Page(it, idx, this, this.config));\n      });\n    }\n    if (o.title !== undefined) {\n      this.info.title = o.title;\n    }\n    if (o.subtitle !== undefined) {\n      this.info.subtitle = o.subtitle;\n    }\n    if (o.author !== undefined) {\n      this.info.author = o.author.toString().split(\"|\");\n    }\n    if (o.speed !== undefined) {\n      this.info.speed = o.speed;\n    }\n    if (o.rhythmic) {\n      this.info.rhythmic = o.rhythmic;\n    }\n    if (o.C) {\n      this.info.C = o.C;\n    }\n  }\n  code(): INotation {\n    let pages: IPage[] = this.pages.map((it) => it.code());\n    let author: string = \"\";\n    this.info.author.forEach((it, idx) => {\n      if (idx === this.info.author.length - 1) {\n        author += it;\n      } else {\n        author += it + \"|\";\n      }\n    });\n    return {\n      title: this.info.title,\n      subtitle: this.info.subtitle,\n      author: author,\n      rhythmic: this.info.rhythmic,\n      speed: this.info.speed,\n      C: this.info.C,\n      pages,\n    };\n  }\n}\n\ninterface MuseNotationInfoProps {\n  info: NotationInfo;\n  config: MuseConfig;\n  clazz: string;\n}\n\nconst MuseNotationInfo: React.FC<MuseNotationInfoProps> = ({\n  info,\n  config,\n  clazz,\n}: MuseNotationInfoProps) => {\n  let y = 0;\n  y += config.pageMarginVertical;\n  let title = (\n    <text\n      className={clazz + \"__info-title\"}\n      fontFamily={config.textFontFamily}\n      width={config.pageWidth}\n      textAnchor={\"middle\"}\n      fontSize={config.infoTitleFontSize}\n      transform={\"translate(\" + config.pageWidth / 2 + \",\" + y + \")\"}\n    >\n      {info.title}\n    </text>\n  );\n  y += config.infoTitleFontSize + config.infoGap;\n  let subtitle = (\n    <text\n      className={clazz + \"__info-subtitle\"}\n      fontFamily={config.textFontFamily}\n      width={config.pageWidth}\n      textAnchor={\"middle\"}\n      fontSize={config.infoSubtitleFontSize}\n      transform={\"translate(\" + config.pageWidth / 2 + \",\" + y + \")\"}\n    >\n      {info.subtitle}\n    </text>\n  );\n  let y1 = y;\n  let x = info.author.length;\n  let author = (\n    <g className={clazz + \"__info-author\"}>\n      {info.author.map((it, idx) => {\n        y1 += config.infoFontSize + config.infoGap;\n        if (idx < x - 2) {\n          y += config.infoFontSize + config.infoGap;\n        }\n        return (\n          <text\n            key={idx}\n            fontFamily={config.textFontFamily}\n            width={config.pageWidth}\n            fontSize={config.infoFontSize}\n            textAnchor={\"end\"}\n            x={0}\n            transform={\n              \"translate(\" +\n              (config.pageWidth - config.pageMarginHorizontal) +\n              \",\" +\n              y1 +\n              \")\"\n            }\n          >\n            {it}\n          </text>\n        );\n      })}\n    </g>\n  );\n  let y2 = y + (config.infoGap + config.infoSubtitleFontSize);\n  let y3 = y2 + (config.infoGap + config.infoFontSize);\n  let rythimic = (\n    <g className={clazz + \"__info-rythmic\"} width={config.pageWidth}>\n      <text\n        fontFamily={config.textFontFamily}\n        width={config.pageWidth}\n        fontSize={config.infoFontSize}\n        transform={\"translate(\" + config.pageMarginHorizontal + \",\" + y2 + \")\"}\n      >\n        {info.speed}\n      </text>\n      <text\n        fontFamily={config.textFontFamily}\n        width={config.pageWidth}\n        fontSize={config.infoFontSize}\n        transform={\"translate(\" + config.pageMarginHorizontal + \",\" + y3 + \")\"}\n      >\n        {`1=${info.C} ${info.rhythmic}`}\n      </text>\n    </g>\n  );\n  return (\n    <g className={clazz + \"__info\"} width={config.pageWidth}>\n      {title}\n      {subtitle}\n      {author}\n      {rythimic}\n    </g>\n  );\n};\n\n@observer\nclass MuseNotation extends React.Component<{ notation: Notation }, {}> {\n  render() {\n    let margin = 10;\n    let clazz = \"muse-notation\";\n    return (\n      <svg\n        className=\"muse\"\n        width={this.props.notation.width + margin * 2}\n        height={this.props.notation.height + margin * 2}\n      >\n        <g\n          className={clazz}\n          transform={\"translate(\" + margin + \",\" + margin + \")\"}\n          width={this.props.notation.width}\n          height={this.props.notation.height}\n        >\n          <MuseNotationInfo\n            info={this.props.notation.info}\n            config={this.props.notation.config}\n            clazz={clazz}\n          />\n          <Border\n            w={this.props.notation.width}\n            h={this.props.notation.height}\n            x={0}\n            y={0}\n            clazz={clazz}\n          />\n          {this.props.notation.pages.map((it, idx) => (\n            <MusePage key={idx} page={it} />\n          ))}\n        </g>\n      </svg>\n    );\n  }\n}\n\nexport default MuseNotation;\n","import React from \"react\";\nimport MuseConfig from \"./MuseConfig\";\nimport MuseNotation, { INotation, Notation } from \"./MuseNotation\";\n\nfunction Muse(props: { data: string; config?: MuseConfig }) {\n  let n: INotation = JSON.parse(props.data);\n  let notation = new Notation(\n    n,\n    props.config ? props.config : new MuseConfig()\n  );\n  return (\n    <div>\n      <MuseNotation notation={notation} />\n      <button\n        onClick={() => {\n          console.log(notation.code());\n        }}\n      >\n        log\n      </button>\n    </div>\n  );\n}\n\nexport default Muse;\n","import React from \"react\";\nimport \"./App.css\";\nimport Muse from \"./muse/Muse\";\n\nclass App extends React.Component<\n  {},\n  {\n    error: any | null;\n    isLoaded: boolean;\n    data: string;\n  }\n> {\n  constructor(props: {}) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      data: \"\",\n    };\n  }\n\n  componentDidMount() {\n    let url = \"https://cdn.jsdelivr.net/gh/shizuku/muse-react/test/data/b.json\";\n    // let url = \"http://localhost:8888/b.json\";\n    fetch(url)\n      .then((res) => res.text())\n      .then(\n        (result) => {\n          this.setState({\n            isLoaded: true,\n            data: result,\n          });\n        },\n        (error) => {\n          this.setState({\n            isLoaded: true,\n            error: error,\n          });\n        }\n      );\n  }\n\n  render() {\n    return (\n      <div className=\"app\">\n        <h1>Example</h1>\n        {this.state.isLoaded ? (\n          this.state.error ? (\n            \"error\"\n          ) : (\n            <Muse data={this.state.data} />\n          )\n        ) : (\n          \"loading...\"\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}